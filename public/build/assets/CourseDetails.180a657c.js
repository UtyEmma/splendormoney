import{R as g}from"./Rating.b97422ea.js";import{u as v,a,j as e,L as m,F as f,d as t}from"./app.1ed4ea61.js";import{u as b}from"./useCart.b40fb3e3.js";import{u as w}from"./useRave.75c11741.js";import{M as y}from"./MainLayout.84dad613.js";import{D as h}from"./Date.da9a6ca2.js";import{Y as u}from"./Youtube.399c6be6.js";import{p as C}from"./pluralize.0e158798.js";import{CourseDetailsPrice as _}from"./CourseDetailsPrice.f17a11f4.js";import{CourseModuleItem as x}from"./CourseModuleItem.bfc998c0.js";import{CourseReview as I}from"./CourseReview.405a29f9.js";import"./Math.62460fa9.js";import"./Symbol.49d534b8.js";import"./Naira.4325f9c0.js";import"./AffiliateContext.6ca6173d.js";const L=({link:i,title:r})=>(v().props,a("button",{onClick:()=>{navigator.share({url:i})},className:"btn btn-wish w-100",children:[e("i",{className:"feather-share-2"})," Share"]}));function U({course:i,enrolled:r,reviews:n}){var d;const{auth:o}=v().props;return a(y,{title:i.name,children:[a("div",{children:[e("div",{className:"breadcrumb-bar",children:e("div",{className:"container",children:e("div",{className:"row",children:e("div",{className:"col-md-12 col-12",children:e("div",{className:"breadcrumb-list",children:e("nav",{"aria-label":"breadcrumb",className:"page-breadcrumb",children:a("ol",{className:"breadcrumb",children:[e("li",{className:"breadcrumb-item",children:e(m,{href:route("pages.home"),children:"Home"})}),e("li",{className:"breadcrumb-item","aria-current":"page",children:e(m,{href:route("courses.list"),children:"Courses"})}),e("li",{className:"breadcrumb-item","aria-current":"page",children:i.name})]})})})})})})}),e("div",{className:"inner-banner",style:{backgroundImage:`url(${i.image})`},children:e("div",{className:"container",children:e("div",{className:"row",children:a("div",{className:"col-lg-8",children:[a("div",{className:"instructor-wrap border-bottom-0 m-0 pt-0",children:[a("div",{className:"about-instructor align-items-center",children:[e("div",{className:"abt-instructor-img",children:e("a",{href:"instructor-profile.html",children:e("img",{src:i.instructor.avatar||"/assets/img/user/user1.jpg",alt:"img",className:"img-fluid"})})}),e("div",{className:"instructor-detail me-3",children:e("h5",{children:e("a",{href:"instructor-profile.html",children:i.instructor.name})})})]}),e(g,{rating:i.reviews_sum_rating/i.reviews.length,count:i.reviews.length})]}),e("h2",{children:i.name}),a("div",{className:"course-info d-flex align-items-center border-bottom-0 m-0 p-0",children:[a("div",{className:"cou-info",children:[e("img",{src:"/assets/img/icon/icon-01.svg",alt:""}),a("p",{children:[i.lectures_count," ",C("Lessons",i.lectures_count)]})]}),i.course_duration&&a("div",{className:"cou-info",children:[e("img",{src:"/assets/img/icon/timer-icon.svg",alt:""}),e("p",{children:i.course_duration&&h.secondsToHms(i.course_duration)})]}),i.enrollments_count>0&&a("div",{className:"cou-info",children:[e("img",{src:"/assets/img/icon/people.svg",alt:""}),a("p",{children:[i.enrollments_count," students enrolled"]})]})]})]})})})}),e("section",{className:"page-content course-sec pt-5",children:e("div",{className:"container",children:a("div",{className:"row",children:[a("div",{className:"col-lg-8",children:[e("div",{className:"card overview-sec mt-0",children:a("div",{className:"card-body",children:[e("h5",{className:"subs-title",children:"Overview"}),e("h6",{children:"Course Description"}),e("div",{dangerouslySetInnerHTML:{__html:i.description}})]})}),e("div",{className:"card content-sec",children:a("div",{className:"card-body",children:[a("div",{className:"row",children:[e("div",{className:"col-sm-6",children:e("h5",{className:"subs-title",children:"Course Content"})}),e("div",{className:"col-sm-6 text-sm-end",children:a("h6",{children:[i.lectures_count," Lectures ",i.course_duration?`- ${h.secondsToHms(i.course_duration)}`:""]})})]}),e("div",{id:"module-accordion",children:i.modules.map((c,s)=>e(x,{module:c,index:s+1}))})]})}),e("div",{className:"card instructor-sec",children:a("div",{className:"card-body",children:[e("h5",{className:"subs-title",children:"About the instructor"}),e("div",{className:"instructor-wrap",children:a("div",{className:"about-instructor",children:[e("div",{className:"abt-instructor-img",children:e("a",{href:"instructor-profile.html",children:e("img",{src:i.instructor.avatar||"/assets/img/user/user1.jpg",alt:"img",className:"img-fluid"})})}),e("div",{className:"instructor-detail",children:e("h5",{children:e("a",{href:"instructor-profile.html",children:i.instructor.name})})})]})}),e("div",{dangerouslySetInnerHTML:{__html:i.instructor.description}})]})}),e("div",{className:"card review-sec",children:a("div",{className:"card-body",children:[e("h5",{className:"subs-title",children:"Reviews"}),n.map(c=>e(I,{review:c}))]})})]}),e("div",{className:"col-lg-4",children:e("div",{className:"sidebar-sec",children:e("div",{className:"video-sec vid-bg",children:e("div",{className:"card",children:a("div",{className:"card-body",children:[e("div",{children:i.video?a("button",{type:"button",className:"video-thumbnail border-0 p-0 rounded-3","data-bs-toggle":"modal","data-bs-target":"#exampleModal",children:[e("div",{className:"play-icon",children:e("i",{className:"fa-solid fa-play"})}),e("div",{className:"overflow-hidden rounded-3",style:{height:"200px"},children:e("img",{src:i.image||"/assets/img/video.jpg",alt:""})})]}):e("div",{className:"video-thumbnail border-0 p-0 rounded-3",children:e("div",{className:"overflow-hidden rounded-3",style:{height:"200px"},children:e("img",{src:i.image||"/assets/img/video.jpg",alt:""})})})}),e("a",{href:u(i.video),"data-fancybox":!0}),a("div",{className:"video-details",children:[e("div",{className:"course-fee",children:e(_,{course:i})}),a("div",{className:"row gx-2",children:[e("div",{className:"col-md-6",children:a("a",{href:"course-wishlist.html",className:"btn btn-wish w-100",children:[e("i",{className:"feather-heart"})," Add to Wishlist"]})}),e("div",{className:"col-md-6",children:e(L,{title:i.name,link:route("courses.single",{slug:i.slug,ref:(d=o.user)==null?void 0:d.affiliate_id})})})]}),r?a("div",{className:"alert alert-info rounded text-center",children:[e("h5",{children:"You are Enrolled for this Course"}),e(m,{href:route("student.courses.single",{enrollment:r.id,course:i.slug}),className:"btn btn-outline-primary btn-outline btn-lg mt-4",children:"View Course"})]}):a(f,{children:[e(S,{course:i}),e(k,{course:i})]})]})]})})})})})]})})})]}),e("div",{className:"modal fade",id:"exampleModal",tabIndex:-1,"aria-labelledby":"exampleModalLabel","aria-hidden":"true",children:e("div",{className:"modal-dialog modal-dialog-centered modal-lg",children:a("div",{className:"modal-content",children:[e("div",{className:"modal-header border-0",children:e("button",{type:"button",className:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})}),e("div",{className:"modal-body",style:{height:"500px"},children:e("iframe",{width:"100%",height:"100%",className:"h-100",src:u(i.video),title:"YouTube video player",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",allowFullScreen:!0})})]})})})]})}const S=({course:i})=>{const r=b(),n=w();function o(){}function d(s){const l=s.tx_ref,p=s.amount,N=s.transaction_id;t.Inertia.post(route("payment.enroll"),{reference:l,amount:p,flutterwave_id:N},{onSuccess:M=>{r==null||r.remove(i.id),t.Inertia.get(route("student.courses"))}})}return e("button",{onClick:()=>{const s={courses:[i.id]};i.price?t.Inertia.post(route("payment.initiate"),s,{onSuccess:l=>n.init(l.props.details,d,o),onFinish:l=>console.log(l)}):t.Inertia.post(route("payment.free"),s,{onSuccess:l=>t.Inertia.get(route("student.courses"))})},className:"btn btn-enroll w-100 mb-3",children:"Enroll Now"})},k=({course:i})=>{const r=b();return e("button",{onClick:()=>r==null?void 0:r.add(i),className:"btn btn-enroll btn-outline-primary btn-rounded  btn-outline w-100",children:"Add to Cart"})};export{U as default};
