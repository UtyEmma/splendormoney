import{N as m}from"./Naira.f3522ddb.js";import{P as h}from"./Pagination.1bbd12f0.js";import{S as u}from"./Swal.81a62e51.js";import{u as p}from"./AffiliateContext.48897de1.js";import{A as f}from"./AdminLayout.83ea1885.js";import{D as s}from"./Date.da9a6ca2.js";import{F as b}from"./Form.0fac4ef2.js";import{S as N}from"./Status.0e147aa3.js";import{a as e,j as r,L as g,d as i}from"./app.f808fee2.js";import"./SweetAlert.8defb5e2.js";import"./MainLayout.b6911946.js";import"./Symbol.43b767c2.js";import"./useCart.66bfafbe.js";import"./Math.62460fa9.js";import"./Disclose.a694b962.js";function P({transactions:a}){const{search:l,filter:n}=p();function d(t){t.preventDefault(),i.Inertia.get(route("admin.transactions.list",b.entries(t.currentTarget)))}function c(t){i.Inertia.get(route("admin.transactions.list",{[t.currentTarget.name]:t.currentTarget.value}))}function o(t){i.Inertia.delete(route("admin.transactions.delete",{transaction:t}))}return e(f,{title:"Transactions",children:e("div",{className:"settings-widget",children:e("div",{className:"settings-inner-blk p-0",children:r("div",{className:"comman-space",children:[r("div",{className:"settings-tickets-blk course-instruct-blk table-responsive",children:[r("div",{className:"d-flex justify-content-between py-4",children:[e("form",{onSubmit:d,children:r("div",{className:"input-group mb-3",children:[e("input",{type:"text",defaultValue:l,name:"search",className:"form-control",placeholder:"Search User's Name or Reference","aria-label":"Search User's Name or Email Address","aria-describedby":"button-addon2"}),e("button",{className:"btn btn-outline-secondary btn-icon btn-primary",type:"submit",id:"button-addon2",children:e("i",{className:"feather-search"})})]})}),e("div",{className:"bg-white",children:r("select",{name:"filter",className:"form-control form-select",onChange:c,placeholder:"Filter Users",children:[e("option",{selected:!n,value:"",children:"All"}),e("option",{selected:n==="enrolled",value:"enrolled",children:"Deleted Transactions"}),e("option",{selected:n==="notenrolled",value:"notenrolled",children:"Unenrolled Users"})]})})]}),r("table",{className:"table table-nowrap mb-0",children:[e("thead",{children:r("tr",{children:[e("th",{className:"px-2",children:"User's Name"}),e("th",{children:"Reference"}),e("th",{children:"Amount"}),e("th",{children:"Status"}),e("th",{children:"Created At"}),e("th",{children:"Modified At"}),e("th",{}),e("th",{})]})}),e("tbody",{children:a.total>0?a.data.map(t=>r("tr",{children:[e("td",{className:"instruct-orders-info",children:e(g,{href:"",children:t.user.name})}),e("td",{children:e("span",{className:"fw-bold",children:t.reference})}),r("td",{children:[e(m,{})," ",t.amount.toLocaleString()||0]}),e("td",{children:e("span",{className:`badge badge-${N[t.status]}`,children:t.status})}),e("td",{children:s.toDateTimeString(t.created_at)}),e("td",{children:s.toDateTimeString(t.updated_at)}),e("td",{children:e("div",{className:"d-flex gap-2",children:e(u,{element:"span",status:"warning",title:"Are you sure?",text:"Are you certain you want to delete this Transaction.",onSuccess:()=>o(t.id),className:"btn btn-danger btn-sm btn-icon",children:e("span",{className:"feather-trash-2"})})})})]})):e("tr",{children:e("td",{colSpan:8,className:"text-center",children:r("div",{className:"border p-4",children:[e("h3",{children:"Nothing to Display"}),e("p",{children:"There are no Transactions available!"})]})})})})]})]}),r("div",{className:"d-flex justify-content-between border-t",children:[e("div",{}),e("div",{children:e(h,{pagination:a})})]})]})})})})}export{P as default};
