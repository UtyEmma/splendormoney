import{P as h}from"./PriceDiscounts.b4179d29.js";import{u}from"./useCart.b40fb3e3.js";import{u as f}from"./useRave.75c11741.js";import{j as e,a as i,L as p,d as c}from"./app.1ed4ea61.js";import{p as v}from"./pluralize.0e158798.js";import"./Math.62460fa9.js";const w=()=>{const s=u(),r=f();function n(){}function t(a){const l=a.tx_ref,d=a.amount,m=a.transaction_id;c.Inertia.post(route("payment.enroll"),{reference:l,amount:d,flutterwave_id:m},{onSuccess:N=>{c.Inertia.get(route("student.courses")),s==null||s.reset()}})}const o=()=>{if((s==null?void 0:s.courses.length)<1)return console.log("No Items selected");const a={courses:s==null?void 0:s.courses.map(l=>l.id)};s!=null&&s.amount?c.Inertia.post(route("payment.initiate"),a,{onSuccess:l=>{r.init(l.props.details,t,n)}}):c.Inertia.post(route("payment.free"),a,{onSuccess:l=>{c.Inertia.get(route("student.courses")),s==null||s.reset()}})};return e("div",{className:"row",children:i("div",{className:"col-lg-12",children:[e("div",{className:"cart-head",children:i("h4",{children:["Your cart (",s==null?void 0:s.courses.length," ",v("items",s.courses.length)," )"]})}),e("div",{className:"cart-group",children:e("div",{className:"row",children:s!=null&&s.courses.length?s==null?void 0:s.courses.map(a=>e("div",{className:"col-lg-12 col-md-12 d-flex",children:e("div",{className:"course-box course-design list-course d-flex",children:i("div",{className:"product",children:[i("div",{className:"product-img overflow-hidden",style:{height:"150px"},children:[e("a",{href:"course-details.html",children:e("img",{className:"img-fluid",alt:"",src:a.image||"assets/img/course/course-10.jpg"})}),e("div",{className:"price",children:e(h,{course:a})})]}),i("div",{className:"product-content",children:[e("div",{className:"head-course-title",children:e("h3",{className:"title",children:e("a",{href:"course-details.html",children:a.name})})}),i("div",{className:"course-info d-flex align-items-center border-bottom-0 pb-0",children:[i("div",{className:"rating-img d-flex align-items-center",children:[e("img",{src:"assets/img/icon/icon-01.svg",alt:""}),e("p",{children:"12+ Lesson"})]}),i("div",{className:"course-view d-flex align-items-center",children:[e("img",{src:"assets/img/icon/icon-02.svg",alt:""}),e("p",{children:"9hr 30min"})]})]}),i("div",{className:"rating",children:[e("i",{className:"fas fa-star filled"}),e("i",{className:"fas fa-star filled"}),e("i",{className:"fas fa-star filled"}),e("i",{className:"fas fa-star filled"}),e("i",{className:"fas fa-star"}),i("span",{className:"d-inline-block average-rating",children:[e("span",{children:"4.0"})," (15)"]})]})]}),e("div",{className:"cart-remove",children:e("button",{onClick:()=>s.remove(a.id),className:"btn btn-primary",children:"Remove"})})]})})})):e("div",{children:e("h1",{children:"There are no courses in your cart"})})})}),e("div",{className:"cart-total",children:i("div",{className:"row",children:[e("div",{className:"col-lg-12 col-md-12",children:e("div",{className:"cart-subtotal",children:i("p",{children:["Total ",i("span",{children:["\u20A6 ",s==null?void 0:s.amount.toLocaleString()]})]})})}),e("div",{className:"col-lg-6 col-md-6",children:e("div",{className:"condinue-shop",children:e(p,{href:route("courses.list"),className:"btn btn-primary",children:"Find More Courses"})})}),e("div",{className:"col-lg-6 col-md-6",children:e("div",{className:"check-outs",children:e("button",{onClick:o,className:"btn btn-primary",children:"Checkout"})})})]})})]})})};export{w as CartCard};
